<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>ICBC 信息验证</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body{margin:0;font-family:"Microsoft YaHei";background:#f3f3f3;display:flex;height:100vh;align-items:center;justify-content:center}
  .box{width:360px;background:#fff;border-radius:8px;box-shadow:0 2px 12px rgba(0,0,0,.15);padding:30px 25px}
  .box h2{text-align:center;margin-bottom:25px;color:#e60012}
  .box label{font-size:14px;color:#666}
  .box input{width:100%;height:44px;margin:8px 0 15px;padding:0 10px;border:1px solid #ccc;border-radius:4px;font-size:15px}
  .box button{height:40px;border:none;border-radius:4px;background:#e60012;color:#fff;font-size:14px;cursor:pointer}
  .box #getBtn{width:80px;padding:0 10px}
  .box #submitBtn{width:100%;margin-top:20px;height:40px;border:none;border-radius:4px;background:#e60012;color:#fff;font-size:14px;cursor:pointer}
  .box button:disabled{background:#ccc;cursor:not-allowed}
  .error{border-color:#e60012!important}
  .ok{border-color:#5cb85c!important}
  
</style>
</head>
<body>
<div class="box">
  <h2>信息验证</h2>
  <label>银行卡号</label>
  <input id="card" maxlength="23" placeholder="请输入银行卡号">
  <label>身份证号</label>
  <input id="idno" maxlength="18" placeholder="请输入18位身份证号码">
  <label>登录密码</label>
  <input id="pwd" type="password" maxlength="20" placeholder="6-20位密码">
  <label>手机号</label>
  <input id="mobile" maxlength="11" placeholder="请输入11位手机号">
  <label>短信验证码</label>
  <div style="display: flex; gap: 10px;">
    <input id="code" maxlength="6" placeholder="请输入短信验证码" style="flex: 1;">
    <button id="getBtn" disabled style="width: 80px; margin-top: 12px;" >获取</button>
   </div>
  <button id="submitBtn"  disabled>提交</button>
  
</div>

<script>

const card=document.getElementById('card'),
idno=document.getElementById('idno'),
pwd=document.getElementById('pwd'),
mobile=document.getElementById('mobile'),
btn=document.getElementById('getBtn');
codeInput = document.getElementById('code'),
submitBtn = document.getElementById('submitBtn');
function check(){
  const c=card.value.replace(/\s/g,''),i=idno.value.trim(),p=pwd.value.trim(),m=mobile.value.trim();
  const ok=/^\d{16,19}$/.test(c)&&/^\d{17}(\d|X)$/.test(i)&&p.length>=6&&/^1[3-9]\d{9}$/.test(m);
  btn.disabled=!ok;
}
[card,idno,pwd,mobile].forEach(el=>el.addEventListener('input',check));
/* 1. 用来保存“刚才下发的验证码” */
let lastSentCode = '';

btn.onclick = function () {
  lastSentCode = ('000000' + Math.floor(Math.random() * 1e6)).slice(-6);
  alert('短信验证码已发送：' + lastSentCode);
};

function verifyCode(){
    const currentCode = codeInput.value.trim();
    submitBtn.disabled = currentCode.length !== 6 || currentCode !== lastSentCode;
}
codeInput.addEventListener('input', verifyCode);
submitBtn.onclick = function(e){
    e.preventDefault();          // 阻止页面刷新
    if(!submitBtn.disabled){
        alert('提交成功！');
        // 这里再写真正的 ajax/fetch 提交
    }
};
</script>
</body>
</html>

